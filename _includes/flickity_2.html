<div class="carousel__holder">
  <div class="main-carousel js-flickity"
       data-flickity='{ "cellAlign": "center", "lazyLoad": 5, "pageDots": false, "fullscreen": true}'>
    {% for item in page.carousels[1].images %}
    <div class="carousel-cell">
      <img data-flickity-lazyload="{{item.url}}" alt="{{item.caption}}" width={{item.width}} height={{item.height}}>
      {% if item.caption %}
      <span class="archive__item-caption">{{ item.caption | markdownify | remove: "<p>" | remove: "</p>" }}</span>
      {% endif %}
    </div>
    {% endfor %}
  </div>
</div>


<style>
  .carousel__holder {width: 100%; position: relative; padding-bottom: {{ include.height }}{{ include.unit }}; margin: 1rem 0 1rem;}
  .carousel-cell {
    width: 100%; /* full width */
    /* center images in cells with flexbox */
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .carousel.is-fullscreen .carousel-cell {
    height: 100%;
  }

  .carousel-cell img {
    display: block;
    max-height: 100%;
  }
</style>
<script src="https://unpkg.com/flickity-fullscreen@2/fullscreen.js"></script>
<script src="https://unpkg.com/flickity@2/dist/flickity.pkgd.min.js"></script>
